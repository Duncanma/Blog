I was staring at my bandwidth usage tonight and it is quite high&#8230;. and thanks to this cool SVG based stats system that easerve provides, I can drill down and figure out which pages are causing the bulk of that traffic&#8230; well, the biggest offenders for # of hits were the aggBugs that .Text includes (because my blog posts, including the aggbugs, are shown on MSDN, and therefore generate 3 aggBug requests for **every single view of the <a href="http://msdn.microsoft.com/vbasic" target="_blank">Visual Basic</a> or <a href="http://msdn.microsoft.com/vcsharp" target="_blank">C# Developer Center</a> pages**), but the biggest use of bandwidth was by far the mainfeed.aspx&#8230;. the main RSS feed for the site&#8230;

I checked out that feed, and it included 35 items&#8230; a value that I couldn&#8217;t seem to change through any of the config options&#8230; I tracked it down to a stored proc (DNW_GetRecentPosts if you are interested) that had a &#8216;Top 35&#8217; option specified&#8230; so I knocked that way down (possibly too far, we&#8217;ll see) to 5&#8230; which should greatly reduce the bandwidth used by that page

Next up was those pesky aggBugs&#8230; I turned them off for a few days, but I wanted a longer term solution, one where I wouldn&#8217;t get aggBug hits when the feed was displayed on MSDN, but I would for &#8216;normal&#8217; aggregator use&#8230;. so I modified the main and category based RSS handlers to skip adding the aggBugs if the RSS request had an additional param of &#8220;aggBug=False&#8221; &#8230;. normal users won&#8217;t have that, but I can control the URL being pulled onto MSDN so I&#8217;ll make sure it includes this little param&#8230; We&#8217;ll see how that work out over the next week or so&#8230;

Its funny, I&#8217;ve worked on quite a few web systems, but they were all very &#8216;transaction&#8217; focused and most of our performance optimization was focused around avoiding trips to the database and execution of code. Basically we ended up creating a variety of caching systems (ASP.NET&#8217;s caching options would have been wonderful to have back then), but it was rare for me to spend much time on the bandwidth side of the equation, especially since many of these systems were Intranet applications (still potentially 1000s of users inside a company, but speed of page execution was all that mattered, size of payload or bandwidth didn&#8217;t matter much on a LAN). Looking at bandwidth usage is an interesting change&#8230;.