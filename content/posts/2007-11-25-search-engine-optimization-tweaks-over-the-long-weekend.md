My team builds a fair number of community sites including <a href="http://channel8.msdn.com/" target="_blank" class="broken_link">Channel 8 (for Students)</a>, <a href="http://edge.technet.com/" target="_blank" class="broken_link">TechNet Edge (for IT Pros)</a>, <a href="http://on10.net/" target="_blank" class="broken_link">Channel 10 (for enthusiasts, power users and gamers)</a>, <a href="http://visitmix.com/" target="_blank" class="broken_link">Mix Online (for web developers and designers)</a> and the original site&#8230; <a href="http://channel9.msdn.com/" target="_blank">Channel 9 (aimed mostly at developers)</a> &#8230; and we&#8217;ve recently starting putting out sites on a new code base. One of the changes in that new code base was a move to an AJAX style interface for viewing lists of posts on the page. We like the way this works for paging through lists of entries, comments, etc&#8230; but we have known from the beginning that it was going to cause us some trouble in the world of search engines and other crawlers. Without JavaScript, there was very little being output onto the page, and what was there was mostly navigational chrome. Taking a look at Google&#8217;s cache of TechNet Edge from a few days ago gives this:

<a href="http://duncanmackenzie.net/images/d105b1c6-c386-44b0-ad06-abb5dfc2d260.jpg" rel="lightbox[504]" title="not much to see without script"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="231" alt="not much to see without script" src="http://duncanmackenzie.net/images/ae9106d8-4911-46fd-a913-cedf241ad069.jpg" width="260" border="0" /></a> 

Checking how your page appears in the cache of Google or Live is one way to check how you appear to crawlers, but it doesn&#8217;t work great when you are making changes or running in development. One handy way is to <a href="http://visitmix.com/blogs/Joshua/291/" target="_blank" class="broken_link">check your site using Lynx, like Joshua mentions in this post on Mix Online</a>.

The content on the site was ending up in the index of search engines anyway, through the virtue of RSS feeds and incoming links&#8230; but the value of your site to crawlers is going to be much lower than it should be if they don&#8217;t see any content when they visit. As I said earlier&#8230; we always knew this would be a problem, but I guess we just didn&#8217;t get around to fixing it before pushing out a full three sites using AJAX based paging. Last week I had a meeting with a SEO consultant and they pointed out the exact issue I&#8217;ve been describing. Well&#8230; given a long weekend&#8230; and no interest in working on my actual planned tasks&#8230; I decided to implement two features to help how our sites appear to crawlers.

First, I added some code that swaps out our fancy Ajax entry list with a simple ASP.NET repeater if the browser doesn&#8217;t appear to be one that is <a href="http://asp.net/AJAX/Documentation/Live/BrowserCompatibilityForASPNETAJAX.aspx" target="_blank">supported by Microsoft Atlas</a>, making our site usable to other browsers (Atlas supports the bulk of users, but not all) and also making our content visible to a crawler. So far, I only output the first page of any given entry list, but that makes the results go from blank to this:

<a href="http://duncanmackenzie.net/images/15f14fa3-9d40-457d-ae10-b478d6afefc2.png" rel="lightbox[504]" title="current cached version from Live.com"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="260" alt="current cached version from Live.com" src="http://duncanmackenzie.net/images/f7857152-02e9-44e9-bd1f-bca307f29f1c.png" width="252" border="0" /></a> 

Next, <a href="http://duncanmackenzie.net/blog/picked-up-mass-effect-today-built-xml-site-maps-instead-of-playing-it-/default.aspx" target="_blank" class="broken_link">I added an XML sitemap</a>, following the specs from <a href="http://sitemaps.org" target="_blank">sitemaps.org</a>, by outputting a sitemap index at <http://<site>/sitemapindex.ashx>{.broken_link} and then outputting a series of sitemaps (by page #) from http://<site>/sitemap.ashx?page=<number> (see <a href="http://visitmix.com/sitemapindex.ashx" target="_blank" class="broken_link">Mix&#8217;s sitemap index</a>, and <a href="http://visitmix.com/sitemap.ashx?page=0" target="_blank" class="broken_link">sitemap</a> as an example). Finally, I put a link to the sitemap index into the robots.txt file for each site.

Between the two, I&#8217;m hoping our content will get indexed better by a variety of search engines, resulting in more people finding us when searching for relevant topics. These changes also help to make us a little bit more usable to some users, but that is another area where we need to do a lot more work. If these changes improve our accessibility that&#8217;s great, but I&#8217;d hate to even suggest that they get us anywhere near our goals in that area.